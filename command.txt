# API Endpoints Documentation


| Endpoint               | Handler                                    | Parameters                                |
| ---------------------- | ------------------------------------------ | ----------------------------------------- |
| `/ui/role_selection`   | `handleRoleSelectionSchema()`              | None                                      |


| `/ui/field_login`      | `handleLoginSchema('Field Executive', 1)`  | Role = `"Field Executive"`, Role ID = `1` |
| `/ui/delivery_login`   | `handleLoginSchema('Delivery Person', 2)`  | Role = `"Delivery Person"`, Role ID = `2` |
| `/ui/sales_login`      | `handleLoginSchema('Sales Person', 3)`     | Role = `"Sales Person"`, Role ID = `3`    |


| `/ui/otp_verification` | `handleOTPVerificationSchema()`            | None                                      |
| `/ui/field_signup`     | `handleSignupSchema('Field Executive', 1)` | Role = `"Field Executive"`, Role ID = `1` |
| `/ui/delivery_signup`  | `handleSignupSchema('Delivery Person', 2)` | Role = `"Delivery Person"`, Role ID = `2` |
| `/ui/sales_signup`     | `handleSignupSchema('Sales Person', 3)`    | Role = `"Sales Person"`, Role ID = `3`    |

---

### ðŸ”¹ **Authentication API Endpoints**

| Endpoint           | Handler             | Parameters                                                                      |
| ------------------ | ------------------- | ------------------------------------------------------------------------------- |
| `/auth/login`      | `handleLogin()`     | Expected: `{ phone, password }` (not visible here, inferred from context) |
| `/auth/signup`     | `handleSignup()`    | Expected: `{ name, phone, password, roleId }`                             |
| `/auth/send-otp`   | `handleSendOTP()`   | Expected: `{ phone }`                                                     |
| `/auth/verify-otp` | `handleVerifyOTP()` | Expected: `{ phone, otp }`                                                |
| `/auth/resend-otp` | `handleResendOTP()` | Expected: `{ phone }`                                                     |

---

### ðŸ”¹ **Location UI Schema**

| Endpoint       | Handler                  | Parameters |
| -------------- | ------------------------ | ---------- |
| `/ui/location` | `handleLocationSchema()` | None       |

---

### ðŸ”¹ **Dashboard UI Schemas**

| Endpoint                     | Handler                              | Parameters |
| ---------------------------- | ------------------------------------ | ---------- |
| `/ui/sales-person-dashboard` | `handleSalesPersonDashboardSchema()` | None       |
| `/ui/notification-screen`    | `handleNotificationScreenSchema()`   | None       |
| `/ui/tasks-screen`           | `handleTasksScreenSchema()`          | None       |
| `/ui/sales-overview-screen`  | `handleSalesOverviewScreenSchema()`  | None       |

---

### ðŸ”¹ **Lead Management UI Schemas**

| Endpoint                 | Handler                          | Parameters |
| ------------------------ | -------------------------------- | ---------- |
| `/ui/leads-screen`       | `handleLeadsScreenSchema()`      | None       |
| `/ui/new-lead-screen`    | `handleNewLeadScreenSchema()`    | None       |
| `/ui/lead-details-modal` | `handleLeadDetailsModalSchema()` | None       |

---

### ðŸ”¹ **Follow-Up Management UI Schemas**

| Endpoint                      | Handler                              | Parameters |
| ----------------------------- | ------------------------------------ | ---------- |
| `/ui/follow-up-screen`        | `handleFollowUpScreenSchema()`       | None       |
| `/ui/new-follow-up-screen`    | `handleNewFollowUpScreenSchema()`    | None       |
| `/ui/follow-up-details-modal` | `handleFollowUpDetailsModalSchema()` | None       |

---

### ðŸ”¹ **Meeting Management UI Schemas**

| Endpoint                    | Handler                             | Parameters |
| --------------------------- | ----------------------------------- | ---------- |
| `/ui/meeting-screen`        | `handleMeetingScreenSchema()`       | None       |
| `/ui/new-meeting-screen`    | `handleNewMeetingScreenSchema()`    | None       |
| `/ui/meeting-details-modal` | `handleMeetingDetailsModalSchema()` | None       |

---

### ðŸ”¹ **Profile Management UI Schema**

| Endpoint             | Handler                       | Parameters |
| -------------------- | ----------------------------- | ---------- |
| `/ui/profile-screen` | `handleProfileScreenSchema()` | None       |

---

### ðŸ”¹ **Location Data Endpoints**

| Endpoint                      | Handler                                                             | Method     | Parameters                                 |
| ----------------------------- | ------------------------------------------------------------------- | ---------- | ------------------------------------------ |
| `/data/user/location`         | `handleStoreLocation()` (POST) / `handleGetLocationHistory()` (GET) | POST / GET | POST: `{ lat, lng, timestamp }` (inferred) |
| `/data/user/location/current` | `handleGetCurrentLocation()`                                        | GET        | None                                       |








You are working on an existing Laravel project. 
The database schema already exists and migrations/models/controllers/routes/views are partially implemented. 
Your job is to **improve and complete** the existing module as per the following requirements â€” 
do NOT rewrite the entire structure, only enhance current code where needed.
Properly display all data in table with perfect queries. 
Make sure controller logic and business logics are perfect. 


Module 1: Spare Parts Request (url: /warehouse/spare-parts) in warehouse.php file

    Task 1: create a model and migration for as SparePartRequest 

    -- database columns: 
        'spare_parts_requests' table: 
            id
            product_id (from products table)
            requested_by (engineer_id from engineers table)
            request_date (date)
            urgency_level
            quantity		
            approval_status
            reason 
            etc. 

            
    Task 2: List All Spare Parts Requests (http://127.0.0.1:8000/warehouse/spare-parts) 
        - display all spare parts requests in table format with columns: sr. no., product name, type, brand, module number, serial number, requested by, request date, urgency level, quantity, approval status, reason, action(view)
        - on view button click, redirect to view page of that spare part request (http://127.0.0.1:8000/warehouse/view-spare-part/{id}) 

    Task 3: View Spare Part Request (http://127.0.0.1:8000/warehouse/view-spare-part/{id}) 
        - The UI design is already done in view.blade.php file. Improve UI design if needed.
        - display all details of spare part request in "Spare Part Request" card like request from engineer, service id (in which service request this spare part is requested), status (pending, approved, rejected), etc.

        - display spare parts details in "Spare Part Details" card like item image, name, type, brand, modal number, serial number, etc. 
        - display customer details for which this spare part is requested in "Customer Details" card like customer name, contact number, address, etc.
        - add one more card for assigning "delivery man" to deliver this spare part 
            - where delivery man can be selected from dropdown (fetch all delivery men from database)  
            - add one more button to "assign" delivery man  
            - on assign button click, refresh page with assigned delivery man name displayed and update in database 
            